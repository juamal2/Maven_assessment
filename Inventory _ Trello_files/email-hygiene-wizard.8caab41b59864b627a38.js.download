(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{5269:function(e,t,n){var a=n(5270);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5270:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._3Octy8lVZ3w2se{position:absolute;top:0;right:0;max-width:50%}._149hhP4Q8y-Frn{margin-top:30px}._149hhP4Q8y-Frn button{margin-right:8px}._18RBDTF6IgsjZi{display:inline-block}._18RBDTF6IgsjZi.O7OvO8MEgI8WMw{float:right}@media only screen and (max-width:1020px){._3Octy8lVZ3w2se{display:none}}._3Ix0WjhiPcwnS2{padding:12px;color:#5e6c84}._3Ix0WjhiPcwnS2 input{width:100%}._3Ix0WjhiPcwnS2 button{width:100%;margin:16px 0 0}.jdTcFpD3-nI6Sm{margin:16px 0 8px;font-weight:700;font-size:14px;color:#172b4d}._1NYql4rFP67pCj{margin:8px 0;font-weight:700;color:#b04632}",""]),t.locals={illustration:"_3Octy8lVZ3w2se",buttons:"_149hhP4Q8y-Frn",spinner:"_18RBDTF6IgsjZi",floating:"O7OvO8MEgI8WMw",popoverContent:"_3Ix0WjhiPcwnS2",popoverLabel:"jdTcFpD3-nI6Sm",popoverError:"_1NYql4rFP67pCj"}},5271:function(e,t,n){var a=n(5272);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5272:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._3EQRb1r-5KMCm5:focus{outline:none}.KBki8fC10ew_BO{text-align:center}._2ccPpEM6zDWfED{background-color:#fff;border-radius:3px;overflow:hidden;position:relative;width:800px;min-height:512px;background-position-x:right;background-position-y:top;background-attachment:scroll;background-repeat:no-repeat;background-size:contain}._22GEJcY5AOKIFY{display:flex;flex-direction:column;justify-content:center}._2rQ4QIXWFOdwyH{position:absolute;top:0;right:0;z-index:1}._3f3t3xg-GxwgtX{margin-right:50%;padding:84px 10px 16px 56px}._2y7aPJiTRcynrn{padding:56px}._38yPYfUTYm8BT1{padding-bottom:16px}._1o2Km6lp4xnArb{color:#172b4d;font-size:24px;font-weight:600;letter-spacing:-.01em;line-height:28px;margin-top:40px;font-weight:500;margin:0}.dxa2YZd_GC_ZS4{background-color:transparent;border:none;box-shadow:none;color:#172b4d;border-radius:50%}.dxa2YZd_GC_ZS4:hover{background-color:rgba(9,30,66,.08);box-shadow:none}.dxa2YZd_GC_ZS4:hover>span{color:#091e42!important}.dxa2YZd_GC_ZS4:active{background-color:rgba(9,30,66,.13);box-shadow:none}.dxa2YZd_GC_ZS4:active>span{color:#091e42!important}._16jvmfzs0dii5z{color:#fff;text-align:center;background-color:hsla(0,0%,100%,.1);padding:8px;margin-top:8px;border-radius:3px;font-size:12px;max-width:800px;box-sizing:border-box}._16jvmfzs0dii5z a{color:#fff}@media only screen and (max-width:1020px){._2ccPpEM6zDWfED{width:510px;background-image:none!important}._3f3t3xg-GxwgtX{margin-right:0;padding-right:56px}.PPA3IFF4rvCMwp{margin-right:0}}",""]),t.locals={wrapper:"_3EQRb1r-5KMCm5",centered:"KBki8fC10ew_BO",dialog:"_2ccPpEM6zDWfED",centeredDialog:"_22GEJcY5AOKIFY",controls:"_2rQ4QIXWFOdwyH",contentWithImage:"_3f3t3xg-GxwgtX",contentWithoutImage:"_2y7aPJiTRcynrn",header:"_38yPYfUTYm8BT1",title:"_1o2Km6lp4xnArb",icon:"dxa2YZd_GC_ZS4",tip:"_16jvmfzs0dii5z",content:"PPA3IFF4rvCMwp"}},5273:function(e,t,n){var a=n(5274);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5274:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._2MSQJuPlNxzcnq{position:absolute;top:0;right:0;max-width:50%}._3Etz3HivVa2Zk5{margin-top:30px}._3Etz3HivVa2Zk5 button{margin-right:8px}._1T5hHwETtRj3Tm{display:inline-block}._1T5hHwETtRj3Tm._3MRtHlF2pTJIoE{float:right}@media only screen and (max-width:1020px){._2MSQJuPlNxzcnq{display:none}}._3f55SJ0Bgrj2sl{font-weight:600;margin-bottom:14px}._9a90bN-_o19zjH{margin-top:12px}.EI2cN8mmYjcC2z{color:#172b4d;font-weight:400;font-size:14px;display:inline-flex;cursor:pointer;margin-bottom:0;width:100%;flex-direction:row;align-items:center}input.VSYngck4pN55Ej{box-shadow:none;margin:0;-webkit-appearance:radio;-moz-appearance:radio;appearance:radio;display:inline-block}.XFHcjFSq0Is-sY{display:inline-block;margin-left:10px;max-width:75%;overflow-wrap:break-word}._3TZtdwCpLr20xP{font-size:12px;color:#fff;background-color:#505f79;border-radius:4px;display:inline-block;margin-left:8px;padding:1px 5px}._3zhE8NzbRC03H6{display:inline-block;margin-top:12px;color:#5e6c84}._2QC1fTDOKnM7xW{margin-left:5px}._1nSR9KYJJionLL{padding:12px;color:#5e6c84}._1nSR9KYJJionLL a{display:inline-block;margin-left:5px;color:#172b4d}._1nSR9KYJJionLL button{width:100%;margin:16px 0 0}",""]),t.locals={illustration:"_2MSQJuPlNxzcnq",buttons:"_3Etz3HivVa2Zk5",spinner:"_1T5hHwETtRj3Tm",floating:"_3MRtHlF2pTJIoE",highlightedMessage:"_3f55SJ0Bgrj2sl",emailList:"_9a90bN-_o19zjH",emailLabel:"EI2cN8mmYjcC2z",emailRadio:"VSYngck4pN55Ej",emailValue:"XFHcjFSq0Is-sY",primaryEmail:"_3TZtdwCpLr20xP",showMoreEmails:"_3zhE8NzbRC03H6",showMoreEmailsIcon:"_2QC1fTDOKnM7xW",popoverContent:"_1nSR9KYJJionLL"}},5275:function(e,t,n){var a=n(5276);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5276:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._1kfYlxui8ROGy3{position:absolute;top:0;right:0;max-width:50%}._3XQYq9mYX4B3Ue{margin-top:30px}._3XQYq9mYX4B3Ue button{margin-right:8px}._3JCflh3VaFQlZE{display:inline-block}._3JCflh3VaFQlZE._3SiiPGhC7KhlLO{float:right}@media only screen and (max-width:1020px){._1kfYlxui8ROGy3{display:none}}._1WrF7j-8jTcRuC strong{overflow-wrap:break-word}",""]),t.locals={illustration:"_1kfYlxui8ROGy3",buttons:"_3XQYq9mYX4B3Ue",spinner:"_3JCflh3VaFQlZE",floating:"_3SiiPGhC7KhlLO",mainMessage:"_1WrF7j-8jTcRuC"}},5277:function(e,t,n){var a=n(5278);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5278:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._1-a1sqQI-Z91oT{position:absolute;top:0;right:0;max-width:50%}.BIext9ryQRbBt4{margin-top:30px}.BIext9ryQRbBt4 button{margin-right:8px}._2yRoW8hK-N6IvF{display:inline-block}._2yRoW8hK-N6IvF._1_nXIP1kuszIo_{float:right}@media only screen and (max-width:1020px){._1-a1sqQI-Z91oT{display:none}}._2BIoixnIuL9BgC strong{overflow-wrap:break-word}",""]),t.locals={illustration:"_1-a1sqQI-Z91oT",buttons:"BIext9ryQRbBt4",spinner:"_2yRoW8hK-N6IvF",floating:"_1_nXIP1kuszIo_",mainMessage:"_2BIoixnIuL9BgC"}},5279:function(e,t,n){var a=n(5280);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5280:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._1mweaQbKcE7MuW{position:absolute;top:0;right:0;max-width:50%}._2VPOsy_tM57dvF{margin-top:30px}._2VPOsy_tM57dvF button{margin-right:8px}._3ydrIfjSikXRym{display:inline-block}._3ydrIfjSikXRym.kuRuh4w5gcw_V6{float:right}@media only screen and (max-width:1020px){._1mweaQbKcE7MuW{display:none}}._2J50ANpW8e-aZO{padding:16px;background-color:#fafbfc;border:2px solid #dfe1e6;margin-top:16px;margin-bottom:16px;border-radius:3px}._1ChMXJ4xMBcLkN{font-size:14px;line-height:20px;overflow-wrap:break-word}._2FTSsStl-UH4bC{color:#5e6c84;font-size:12px;line-height:16px}",""]),t.locals={illustration:"_1mweaQbKcE7MuW",buttons:"_2VPOsy_tM57dvF",spinner:"_3ydrIfjSikXRym",floating:"kuRuh4w5gcw_V6",singleEmailItem:"_2J50ANpW8e-aZO",singleEmailValue:"_1ChMXJ4xMBcLkN",singleEmailTimestamp:"_2FTSsStl-UH4bC"}},5281:function(e,t,n){var a=n(5282);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5282:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,".YxNo9pN46bRPQ2{position:absolute;top:0;right:0;max-width:50%}._1zKmhZ3mkDSKuk{margin-top:30px}._1zKmhZ3mkDSKuk button{margin-right:8px}.HvMeQqpPzz7UCs{display:inline-block}.HvMeQqpPzz7UCs._18D85L9mNV6Opx{float:right}@media only screen and (max-width:1020px){.YxNo9pN46bRPQ2{display:none}}._10SUbZGkSYwm4H{margin-bottom:18px;font-size:20px;font-weight:500}",""]),t.locals={illustration:"YxNo9pN46bRPQ2",buttons:"_1zKmhZ3mkDSKuk",spinner:"HvMeQqpPzz7UCs",floating:"_18D85L9mNV6Opx",errorMessage:"_10SUbZGkSYwm4H"}},5283:function(e,t,n){var a=n(5284);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5284:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._3x4GInExLo0xNd{position:absolute;top:0;right:0;max-width:50%}._3vJq2deHZJWJrv{margin-top:30px}._3vJq2deHZJWJrv button{margin-right:8px}._1ZXbN5V9v_yHEm{display:inline-block}._1ZXbN5V9v_yHEm._2zWN4ypN7CD4bk{float:right}@media only screen and (max-width:1020px){._3x4GInExLo0xNd{display:none}}.ae-gMVDoFT_AD4 strong{overflow-wrap:break-word}",""]),t.locals={illustration:"_3x4GInExLo0xNd",buttons:"_3vJq2deHZJWJrv",spinner:"_1ZXbN5V9v_yHEm",floating:"_2zWN4ypN7CD4bk",mainMessage:"ae-gMVDoFT_AD4"}},5285:function(e,t,n){var a=n(5286);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(22)(a,i);a.locals&&(e.exports=a.locals)},5286:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._1Afz8SdJ11Curv{position:absolute;top:0;right:0;max-width:50%}.IsTLO2IuSBhwU8{margin-top:30px}.IsTLO2IuSBhwU8 button{margin-right:8px}.yFdUt7IDPmJ-DH{display:inline-block}.yFdUt7IDPmJ-DH._2fxjU1CxRuHoG9{float:right}@media only screen and (max-width:1020px){._1Afz8SdJ11Curv{display:none}}",""]),t.locals={illustration:"_1Afz8SdJ11Curv",buttons:"IsTLO2IuSBhwU8",spinner:"yFdUt7IDPmJ-DH",floating:"_2fxjU1CxRuHoG9"}},5287:function(e,t,n){e.exports=n.p+"images/email-hygiene-wizard/illustration-main.f756d71fba7720da42f0.svg"},5288:function(e,t,n){e.exports=n.p+"images/email-hygiene-wizard/illustration-email.f5bfd1f807d345c61e4c.svg"},5289:function(e,t,n){e.exports=n.p+"images/email-hygiene-wizard/illustration-ok.918fe795af7239acb0e1.svg"},5432:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(1),o=n(17),l=n(31),s=n(5),c=n(253),m=n(569),u=n(6),d=n.n(u),p=n(40),g=n(24),f=n(915),b=n(50),h=n(5269),E=n.n(h);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var y=Object(s.forNamespace)(["email hygiene wizard","change email"],{shouldEscapeStrings:!1}),_=function(e){var t=e.onSubmitEmail,n=void 0===t?function(e){}:t,r=e.isSendingRequest,o=e.emailError,l=e.disabled,s=e.onTogglePopover,m=v(Object(a.useState)(""),2),u=m[0],h=m[1],_=Object(g.usePopover)({onHide:function(){s(!1)},onShow:function(){s(!0)}}),w=_.popoverProps,S=_.toggle,I=_.triggerRef;return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{onClick:S,ref:I,disabled:l},"Change email"),i.a.createElement(g.Popover,x({},w,{title:y("title")}),i.a.createElement("div",{className:E.a.popoverContent},i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(u)}},i.a.createElement("div",null,y("main-message"),r&&i.a.createElement(b.a,{small:!0,inline:!0,wrapperClassName:d()(E.a.spinner,E.a.floating)})),o&&i.a.createElement(c.a,{error:o,email:u},function(e){return i.a.createElement("p",{className:E.a.popoverError},e)}),i.a.createElement("label",{htmlFor:"email",className:E.a.popoverLabel},y("email-label")),i.a.createElement("input",{id:"email",type:"email",name:"email",value:u,ref:function(e){return e&&e.focus()},onChange:function(e){return h(e.target.value)},disabled:r}),i.a.createElement(f.a,{disabled:r||0===u.length,onClick:function(e){e.preventDefault(),n(u)}},y("send-confirmation-button"))))))},w=n(35),S=n(11),I=n(5271),k=n.n(I),C=Object(s.forNamespace)(["email hygiene wizard","dialog"],{shouldEscapeStrings:!1}),N=function(e){var t=e.title,n=e.children,r=e.closeDialog,o=e.isCentered,l=e.image,s=e.onKeyPressCapture,c=Object(a.useRef)(null);return Object(a.useEffect)(function(){c.current&&l&&c.current.appendChild(l)}),i.a.createElement("div",{tabIndex:0,ref:function(e){return e&&e.focus()},className:d()(k.a.wrapper,o?k.a.centered:void 0),onKeyPressCapture:s},i.a.createElement("div",{ref:c,className:d()(k.a.dialog,o?k.a.centeredDialog:void 0)},i.a.createElement("div",{className:k.a.controls},i.a.createElement(p.e,{icon:S.IconName.Close,className:k.a.icon,color:S.IconColor.Dark,largeIcon:!0,onClick:r})),i.a.createElement("div",{className:l?k.a.contentWithImage:k.a.contentWithoutImage},i.a.createElement("header",{className:k.a.header},i.a.createElement("h2",{className:k.a.title},t)),i.a.createElement("div",null,n))),i.a.createElement("div",{className:k.a.tip},i.a.createElement("span",{role:"img","aria-label":"tip"},"💡"),i.a.createElement("span",null,C("tip-text",{transferYourBoardsLink:i.a.createElement("a",{href:"/support/transfer-boards",key:"transfer-link"},C("transfer-your-boards-link"))}))))},O=n(5273),j=n.n(O);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var z=Object(s.forNamespace)(["email hygiene wizard","choose email screen"],{shouldEscapeStrings:!1}),L=function(e){var t=e.logins,n=e.name,r=e.updateByDate,o=e.onDismiss,l=e.selectedLogin,s=e.isSendingRequest,c=e.isSendingRemoveEmailsRequest,m=e.onSelectLogin,u=e.onClickConfirm,f=e.onRemoveSecondaryEmails,h=e.image,E=M(Object(a.useState)(!1),2),x=E[0],v=E[1],y=Object(g.usePopover)(),_=y.popoverProps,S=y.toggle,I=y.triggerRef,k=x||t.length<=5?t:t.slice(0,4),C=t.length-k.length;return i.a.createElement(N,{closeDialog:o,title:z("title"),image:h,onKeyPressCapture:function(e){"Enter"!==e.key||s||_.isVisible||u()}},i.a.createElement("p",{className:j.a.highlightedMessage},z("main-message",{name:n,updateByDate:r})),i.a.createElement("p",null,z("select-email-text")),i.a.createElement("div",{className:j.a.emailList},k.map(function(e,t){return i.a.createElement("div",{key:"email".concat(t)},i.a.createElement("label",{className:j.a.emailLabel},i.a.createElement("input",{type:"radio",className:j.a.emailRadio,disabled:s||c,checked:!!l&&e.email===l.email,onChange:function(){return m(e)}}),i.a.createElement("span",{className:j.a.emailValue},e.email),e.primary&&i.a.createElement("span",{className:j.a.primaryEmail},z("primary-label"))))}),C>0&&i.a.createElement("div",null,i.a.createElement("a",{href:"#",className:j.a.showMoreEmails,onClick:function(e){e.preventDefault(),v(!0)}},z("show-more-link",{amount:C}),i.a.createElement(w.default,{name:w.IconName.Down,small:!0,className:j.a.showMoreEmailsIcon})))),i.a.createElement("div",{className:j.a.buttons},i.a.createElement(p.g,{disabled:s||c,onClick:u},z("continue-button")),i.a.createElement(p.a,{onClick:S,disabled:s,ref:I},z("use-different-email")),i.a.createElement(g.Popover,R({},_,{title:z("use-different-email")}),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:j.a.popoverContent},z("remove-secondary-addresses-text"),i.a.createElement("a",{href:"https://help.trello.com/article/773-adding-account-credentials",target:"_blank"},z("remove-secondary-addresses-link-text")),c&&i.a.createElement(b.a,{small:!0,inline:!0,wrapperClassName:d()(j.a.spinner,j.a.floating)}),i.a.createElement(p.g,{onClick:f,disabled:c},z("remove-secondary-addresses-button"))))),s&&i.a.createElement(b.a,{small:!0,wrapperClassName:j.a.spinner})))},A=n(5275),D=n.n(A),P=Object(s.forNamespace)(["email hygiene wizard","claimable info screen"],{shouldEscapeStrings:!1}),F=function(e){var t=e.email,n=e.isSendingRequest,a=e.onDismiss,r=e.onClickConfirm,o=e.onClickBack,l=e.image;return i.a.createElement(N,{closeDialog:a,title:P("title"),image:l,onKeyPressCapture:function(e){"Enter"!==e.key||n||r()}},i.a.createElement("p",{className:D.a.mainMessage},P("main-message",{domain:i.a.createElement("strong",{key:"domain"},t.split("@")[1])})),i.a.createElement("p",null,P("secondary-message")),i.a.createElement("div",{className:D.a.buttons},i.a.createElement(p.g,{onClick:r,disabled:n},P("use-email-button")),i.a.createElement(p.a,{onClick:o,disabled:n},P("different-email-button")),n&&i.a.createElement(b.a,{small:!0,inline:!0,wrapperClassName:D.a.spinner})))},H=n(5277),T=n.n(H),B=Object(s.forNamespace)(["email hygiene wizard","confirmation email sent screen"],{shouldEscapeStrings:!1}),W=function(e){var t=e.email,n=e.onDismiss,a=e.changeEmailButton,r=e.image;return i.a.createElement(N,{closeDialog:n,title:B("title"),image:r},i.a.createElement("p",{className:T.a.mainMessage},B("main-message",{email:i.a.createElement("strong",{key:"email"},t)})),i.a.createElement("p",null,B("secondary-message")),i.a.createElement("div",{className:T.a.buttons},i.a.createElement(p.g,{onClick:n},B("ok-button")),a))},J=n(133),Z=n(918),Y=n(5279),V=n.n(Y),Q=Object(s.forNamespace)(["email hygiene wizard","confirm single email screen"],{shouldEscapeStrings:!1}),q=function(e){var t=e.login,n=e.updateByDate,a=e.isSendingRequest,r=e.isSendingNewEmailRequest,o=e.isPopoverShown,l=e.onDismiss,s=e.onClickConfirm,c=e.changeEmailButton,m=e.image;return i.a.createElement(N,{closeDialog:l,title:Q("title",{updateByDate:n}),image:m,onKeyPressCapture:function(e){"Enter"!==e.key||a||o||s()}},Q("main-message"),i.a.createElement("div",{className:V.a.singleEmailItem},i.a.createElement("div",{className:V.a.singleEmailValue},t.email),i.a.createElement("div",{className:V.a.singleEmailTimestamp},Q("added-date",{date:Object(Z.a)(Object(J.b)(t.id),new Date)}))),i.a.createElement("div",{className:V.a.buttons},i.a.createElement(p.g,{onClick:s,disabled:a||r},Q("use-email-button")),c,a&&i.a.createElement(b.a,{small:!0,inline:!0,wrapperClassName:V.a.spinner})))},K=n(5281),G=n.n(K),U=Object(s.forNamespace)(["email hygiene wizard","error screen"],{shouldEscapeStrings:!1}),X=function(e){var t=e.onDismiss,n=e.onClickBack,a=e.image;return i.a.createElement(N,{closeDialog:t,title:U("title"),image:a,isCentered:!0},i.a.createElement("h3",{className:G.a.errorMessage},U("main-message")),i.a.createElement("p",null,U("secondary-message")),i.a.createElement("div",{className:G.a.buttons},i.a.createElement(p.g,{onClick:n},U("start-over-button"))))},$=n(5283),ee=n.n($),te=Object(s.forNamespace)(["email hygiene wizard","success screen"],{shouldEscapeStrings:!1}),ne=function(e){var t=e.email,n=e.onDismiss,a=e.image;return i.a.createElement(N,{closeDialog:n,title:te("title"),image:a},i.a.createElement("p",{className:ee.a.mainMessage},te("main-message",{email:i.a.createElement("strong",{key:"email"},t)})),i.a.createElement("p",null,te("secondary-message",{yourProfileLink:i.a.createElement("a",{href:"/me",key:"profile-link"},te("your-profile-link"))})),i.a.createElement("div",{className:ee.a.buttons},i.a.createElement(p.g,{onClick:n},te("done-button"))))},ae=n(5285),ie=n.n(ae);function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"illustrations",function(){return le}),n.d(t,"ScreenType",function(){return oe}),n.d(t,"fetchIllustration",function(){return me}),n.d(t,"EmailHygieneWizard",function(){return ue});var oe,le={main:n(5287),email:n(5288),success:n(5289)};!function(e){e.CHOOSE_EMAIL="chooseEmail",e.CONFIRM_SINGLE_EMAIL="confirmSingleEmail",e.CONFIRMATION_EMAIL_SENT="confirmationEmailSent",e.CLAIMABLE_INFO="claimableInfo",e.SUCCESS="success",e.ERROR="error"}(oe||(oe={}));var se=Object(s.forNamespace)(["email hygiene wizard","dialog"],{shouldEscapeStrings:!1}),ce=new Map,me=function(e,t,n){var a="".concat(e,"-").concat(t||"","-").concat(n||""),i=ce.get(a);if(i)return i;var r,o,l=document.createElement("div");return l.className=ie.a.illustration,ce.set(a,l),(r=e,regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(window.fetch(r));case 2:if(!(null==(o=e.sent)?void 0:o.ok)){e.next=5;break}return e.abrupt("return",o.text());case 5:case"end":return e.stop()}})).then(function(e){e&&(l.innerHTML=e,function(e,t,n){var a=e.querySelector(".replace-avatar");if(n)a&&a.setAttribute("xlink:href","".concat(n,"/170.png"));else{if(t){var i=e.querySelector(".replace-initials");i&&(i.innerHTML=t)}a&&a.remove()}}(l,t,n))}),l},ue=function(e){var t=e.analyticsContext,n=e.name,s=e.avatarUrl,u=e.initials,d=e.logins,p=e.updateByDate,g=e.onComplete,f=e.onDismiss,b=re(Object(a.useState)(oe.CHOOSE_EMAIL),2),h=b[0],E=b[1],x=re(Object(a.useState)(c.b.None),2),v=x[0],y=x[1],w=re(Object(a.useState)(),2),S=w[0],I=w[1],k=re(Object(a.useState)(""),2),C=k[0],N=k[1],O=!!S,j=Object(a.useCallback)(function(e){return me(e,u,s)},[u,s]);Object(a.useEffect)(function(){j(le.main),j(le.email),j(le.success)}),Object(a.useEffect)(function(){if(!O){var e=d.find(function(e){return e.primary})||d[0];I(e)}},[O,d]);var R=re(Object(l.Gb)(),2),M=R[0],z=R[1],A=re(Object(l.Gb)(),2),D=A[0],P=A[1],H=re(Object(l.R)(),2),T=H[0],B=H[1],J=re(Object(a.useState)(!1),2),Z=J[0],Y=J[1],V=h;V!==oe.CHOOSE_EMAIL&&V!==oe.CONFIRM_SINGLE_EMAIL||(V=d.length>1?oe.CHOOSE_EMAIL:oe.CONFIRM_SINGLE_EMAIL),Object(a.useEffect)(function(){Object(m.a)({verb:r.Verb.VIEWS,noun:"email hygiene wizard screen "+V,method:"by vieweing a wizard screen",context:t,source:o.Source.emailHygieneWizard,action:o.Action.viewed,actionSubject:o.ActionSubject.panel,actionSubjectId:"emailHygieneWizardScreen"+V.replace(/^./,V[0].toUpperCase())})},[V,t]);var Q=function(e){I(e),Object(m.a)({verb:r.Verb.SETS,noun:r.Noun.EMAIL,method:"by selecting the email from a list",context:t,source:o.Source.emailHygieneWizard,action:o.Action.clicked,actionSubject:o.ActionSubject.radioButton,actionSubjectId:o.ActionSubjectId.emailHygieneWizardEmailItem})},K=function(){if(!S)throw new Error("No email selected");var e=d.filter(function(e){return e.id!==S.id}).map(function(e){return e.id});M({variables:{memberId:"me",primaryLoginId:S.id,removeLoginIds:e,markAsComplete:!0}}).then(function(){return E(oe.SUCCESS)},function(){return E(oe.ERROR)}),Object(m.a)({verb:r.Verb.SAVES,noun:r.Noun.EMAIL,method:"by clicking use email button",context:t,source:o.Source.emailHygieneWizard,action:o.Action.clicked,actionSubject:o.ActionSubject.button,actionSubjectId:o.ActionSubjectId.emailHygieneWizardConfirmEmailButton})},G=function(){if(!S)throw new Error("No email selected");S.claimable?E(oe.CLAIMABLE_INFO):K()},U=i.a.createElement(_,{disabled:z.loading,onTogglePopover:Y,isSendingRequest:B.loading,onSubmitEmail:function(e){var n,a;return regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(S){i.next=2;break}throw new Error("No email selected");case 2:return y(c.b.None),i.prev=3,i.next=6,regeneratorRuntime.awrap(T({variables:{loginId:S.id,email:e}}));case 6:N(e),E(oe.CONFIRMATION_EMAIL_SENT),i.next=15;break;case 10:i.prev=10,i.t0=i.catch(3),n=i.t0.networkError?i.t0.networkError.message:i.t0.message,(a=Object(c.c)(n))?y(a):E(oe.ERROR);case 15:Object(m.a)({verb:r.Verb.CHANGES,noun:r.Noun.EMAIL,method:"by clicking change email button",context:t,source:o.Source.emailHygieneWizard,action:o.Action.clicked,actionSubject:o.ActionSubject.button,actionSubjectId:o.ActionSubjectId.emailHygieneWizardChangeEmailButton});case 16:case"end":return i.stop()}},null,null,[[3,10]])},emailError:v},se("change-email"));switch(V){case oe.CHOOSE_EMAIL:return i.a.createElement(L,{name:n,image:j(le.main),onDismiss:f,logins:d,updateByDate:p,isSendingRequest:z.loading,onClickConfirm:G,selectedLogin:S,onSelectLogin:Q,isSendingRemoveEmailsRequest:P.loading,onRemoveSecondaryEmails:function(){if(!S)throw new Error("No email selected");var e=d.filter(function(e){return e.id!==S.id}).map(function(e){return e.id});D({variables:{memberId:"me",primaryLoginId:S.id,removeLoginIds:e,markAsComplete:!1}}).then(function(){return E(oe.CONFIRM_SINGLE_EMAIL)},function(){return E(oe.ERROR)}),Object(m.a)({verb:r.Verb.REMOVES,noun:r.Noun.EMAIL,method:"by clicking remove secondary emails button",context:t,source:o.Source.emailHygieneWizard,action:o.Action.clicked,actionSubject:o.ActionSubject.button,actionSubjectId:o.ActionSubjectId.emailHygieneWizardRemoveSecondaryEmailsButton})}});case oe.CONFIRM_SINGLE_EMAIL:return i.a.createElement(q,{name:n,image:j(le.main),onDismiss:f,updateByDate:p,isSendingRequest:z.loading,isSendingNewEmailRequest:B.loading,isPopoverShown:Z,onSelectLogin:Q,login:d[0],onClickConfirm:G,changeEmailButton:U});case oe.CLAIMABLE_INFO:return i.a.createElement(F,{image:j(le.main),onDismiss:f,isSendingRequest:z.loading,email:S.email,onClickConfirm:K,onClickBack:function(){return E(oe.CHOOSE_EMAIL)}});case oe.CONFIRMATION_EMAIL_SENT:return i.a.createElement(W,{image:j(le.email),onDismiss:g,changeEmailButton:U,email:C});case oe.ERROR:return i.a.createElement(X,{onDismiss:f,onClickBack:function(){return E(oe.CHOOSE_EMAIL)}});case oe.SUCCESS:return i.a.createElement(ne,{image:j(le.success),onDismiss:g,email:S.email});default:return null}};t.default=ue}}]);
//# sourceMappingURL=email-hygiene-wizard.8caab41b59864b627a38.js.map